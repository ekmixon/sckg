description: "To ensure individual service account credentials are used,\nedit the\
  \ Controller Manager pod specification file\n<tt>/etc/origin/master/master-config.yaml</tt>\
  \ on the\nmaster node(s) and set the <tt>use-service-account-credentials</tt> option,\n\
  under the <tt>controllerArguments</tt> stanza, to <tt>true</tt>. For example:\n\
  <pre>kubernetesMasterConfig:\n  controllerArguments:\n    use-service-account-credentials:\n\
  \    - true</pre>"
identifiers: {cce: 80593-7}
ocil: "Run the following command on the master node(s):\n<pre>$ sudo grep service-account-credentials\
  \ /etc/origin/master/master-config.yaml</pre> \n\nVerify that the <tt>controllerArguments</tt>\
  \ option\n<tt>use-service-account-credentials</tt> argument is not set to\n<tt>false</tt>.\n\
  \nIf the configuration file does not explicitly set \n<tt>use-service-account-credentials</tt>,\
  \ and the grep command returns no\ntext, the default value of <tt>true</tt> is being\
  \ used."
ocil_clause: <tt>use-service-account-credentials</tt> is set to <tt>false</tt>
oval_external_content: null
platform: null
prodtype: ocp3
rationale: 'The controller manager creates a service account per controller in

  <tt>kube-system</tt> namespace, generates an API token and credentials for it,

  then builds a dedicated API client with that service account credential

  for each controller loop to use. Setting the

  <tt>use-service-account-credentials</tt> to <tt>true</tt> runs each

  control loop within the contoller manager using a separate service

  account credential. When used in combination with RBAC, this ensures

  that the control loops run with the minimum permissions required to

  perform their intended tasks.'
references: {cis: 1.3.3}
severity: medium
template: null
title: Ensure that the --use-service-account-credentials argument is set
warnings: []
