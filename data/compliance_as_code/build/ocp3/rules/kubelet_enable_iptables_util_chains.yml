description: "The kubelet has the ability to automatically configure the firewall\
  \ to allow\nthe containers required ports and connections to networking resources\
  \ and destinations\nparameters potentially creating a security incident.\nTo allow\
  \ the kubelet to modify the firewall, edit the kubelet configuration\nfile <tt>/etc/origin/node/node-config.yaml</tt>\n\
  on the kubelet node(s) and set the below parameter:\n<pre>kubeletArguments:\n  make-iptables-util-chains:\n\
  \  - 'true'</pre>"
identifiers: {cce: 80604-2}
ocil: 'Run the following command on the kubelet node(s):

  <pre>$ sudo grep -A1 make-iptables-util-chains /etc/origin/node/node-config.yaml</pre>

  The output should return <tt>true</tt>.'
ocil_clause: the kubelet cannot modify the firewall settings
oval_external_content: null
platform: null
prodtype: ocp3
rationale: 'The kubelet should automatically configure the firewall settings to allow
  access and

  networking traffic through. This ensures that when a pod or container is running
  that

  the correct ports are configured as well as removing the ports when a pod or

  container is no longer in existence. '
references: {cis: 2.1.8}
severity: medium
template: null
title: kubelet - Allow Automatic Firewall Configuration
warnings:
- {management: 'IT IS NOT RECOMMENDED FOR ANY REASON to manually configure firewall
    ports for running

    pods and containers as this not only can create conflicts with firewall rules
    but can

    also introduce inconsistences into the allowed/disabled ports on the firewall.'}
