description: "Cinder supports an NFS driver which works differently than a traditional\
  \ block storage driver.\nThe NFS driver does not actually allow an instance to access\
  \ a storage device at the block level.\nInstead, files are created on an NFS share\
  \ and mapped to instances, which emulates a block device.\nCinder supports secure\
  \ configuration for such files by controlling the file permissions when cinder\n\
  volumes are created. Cinder configuration can also control whether file operations\
  \ are run as the\nroot user or the current OpenStack process user.\\n\\n<br />\\\
  n<br />\\n\n\nPass: If value of parameter nas_secure_file_permissions under [DEFAULT]\
  \ section\nin /var/lib/config-data/puppet-generated/cinder/etc/cinder/cinder.conf\
  \ is set to <tt>auto</tt>.\n\nWhen set to auto, a check is done during cinder startup\
  \ to determine if there are existing\ncinder volumes, no volumes will set the option\
  \ to <tt>True</tt>, and use secure file permissions.\nThe detection of existing\
  \ volumes will set the option to <tt>False</tt>, and use the current\ninsecure method\
  \ of handling file permissions. If value of parameter nas_secure_file_operations\n\
  under [DEFAULT] section in /var/lib/config-data/puppet-generated/cinder/etc/cinder/cinder.conf\n\
  is set to auto. When set to &#8220;auto&#8221;, a check is done during cinder startup\
  \ to determine\nif there are existing cinder volumes, no volumes will set the option\
  \ to True, be secure and do\nNOT run as the root user. The detection of existing\
  \ volumes will set the option to False, and\nuse the current method of running operations\
  \ as the root user. For new installations,\na &#8220;marker file&#8221; is written\
  \ so that subsequent restarts of cinder will know what \nthe original determination\
  \ had been.\\n\\n<br />\\n<br />\\n\n\nFail: If value of parameter nas_secure_file_permissions\
  \ under [DEFAULT] section\nin /var/lib/config-data/puppet-generated/cinder/etc/cinder/cinder.conf\
  \ is set to False\nand if value of parameter nas_secure_file_operations under [DEFAULT]\
  \ section\nin /var/lib/config-data/puppet-generated/cinder/etc/cinder/cinder.conf\
  \ is set to False.\""
identifiers: {}
ocil: null
ocil_clause: null
oval_external_content: null
platform: null
prodtype: rhosp13
rationale: ''
references: {nist: AC-6}
severity: medium
template: null
title: 'Check-Block-07: Is NAS operating in secure enviornment?'
warnings: []
